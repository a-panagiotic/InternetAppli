# Ιnternet & Applications, Spring 2020

# Θέμα Εργασίας
Μία απλή δικτυακή εφαρμογή η οποία θα παίρνει ως input μια λίστα με ονόματα φαρμάκων χωρισμένα με «,» και θα εντοπίζει τις κλινικές μελέτες στις οποίες έχει χορηγηθεί κάποιο από τα δοσμένα φάρμακα με βάση την πληροφορία που υπάρχει στο αντίστοιχο πεδίο με τα interventions. Ακολούθως θα εξετάζει κατά πόσο κάποιο από τα δοσμένα φάρμακα αναφέρεται στην σύνοψη της κλινικής μελέτης (brief summary – free text) και τα κριτήρια καταλληλότητας (eligibility criteria – free text). Τέλος το σύστημα θα παρουσιάζει τις κλινικές μελέτες (καθώς και το πλήθος τους) στις οποίες υπάρχει κάποιο από τα δοσμένα φάρμακα και στα τρία παραπάνω πεδία (interventions, brief summary, eligibility criteria) καθώς επίσης και αυτές στις οποίες δεν υπάρχει είτε στο ένα (brief summary) είτε στο άλλο (eligibility criteria) .
Τα δεδομένα προέρχονται από τη βάση δεδομένων : https://clinicaltrials.gov/ 

# Παραδοχές
1.	Κάθε φάρμακο (εισόδου) θα αναζητείται μόνο σε εκείνα τα <intervention> με intervention_type : DRUG 
2.	Εάν για κάποια μελέτη υπάρχουν δύο φάρμακα που το καθένα κατηγοριοποιεί την μελέτη σε δύο διαφορετικούς πίνακες αποτελεσμάτων (δηλαδή το ένα φάρμακο υπάρχει και στα τρία προαναφερθέντα πεδία της μελέτης, ενώ το δεύτερο, στα interventions και π.χ. στο brief summary)  τότε η μελέτη αυτή θα εμφανιστεί μόνο σε έναν από τους δύο πίνακες.
3.	Από τους 450 φακέλους που αποτελούν όλα τα δεδομένα, στην βάση (για την παρουσίαση) έχουν καταχωρηθεί μελέτες από τους 163 φακέλους με 67,572 records στη βάση. 

# H Βάση Δεδομένων AppathonMed – Δημιουργία της Βάσης
Για την δημιουργία της βάσης AppathonMed και του πίνακα ‘studies’ όπου και θα καταχωρήσουμε τα απαραίτητα δεδομένα των μελετών, τρέξτε σε MariaDB τα κάτωθι :

CREATE DATABASE AppathonMed;
USE AppathonMed;
CREATE TABLE studies (
  fileName VARCHAR(15) NOT NULL PRIMARY KEY,
  interventions VARCHAR(2000),
  briefSummary LONGTEXT,
  eligibilityCriteria LONGTEXT,
  briefTitle VARCHAR(2000)
);

# H Βάση Δεδομένων AppathonMed – Εισαγωγή δεδομένων  

Η εισαγωγή των δεδομένων στην βάση γίνεται με την εκτέλεση του .java αρχείου ReadXML 
  
- Αρχικά θα πρέπει να ανοίξετε το ReadXML και να συμπληρώσετε στην γραμμή 18 το username και το password της βάσης σας. 
  
- Για να τρέξετε τον κώδικα απευθείας (από cmd) εκτελέστε τα ακόλουθα : 
  
1.	Το AllPublicXML.zip αποσυμπιέστε το σε φάκελο AppathonProject με το ίδιο όνομα (AllPublicXML) Υπόδειξη : Φροντίστε να διαγράψετε το  “Contents.txt” που βρίσκεται στο τέλος του φακέλου AllPublicXML 
2.	Εισάγετε στο AppathonProject το ReadXML.java  
- Διαφορετικά θα πρέπει να συμπληρώσετε τα μονοπάτια που θα ορίσετε εσείς στα αντίστοιχα σημεία του κώδικα (στις γραμμές 34, 39 και 46)

# Εφαρμογή & Testing

- Για την εφαρμογή χρησιμοποιείστε το .jsp αρχείο.
  (Σημείωση : Σε περίπτωση που αντιμετωπίζετε προβλήματα με την εγκατάσταση του project, δημιουργείστε ένα Dynamic Web Project και εισάγετε σε αυτό το medicines.jsp το οποίο διατίθεται και αυτό στο github)

- Κι εκεί θα πρέπει να συμπληρώσετε τα δικά σας username, password της βάσης σας. Συγκεκριμένα στην γραμμή 156 του .jsp . 
 
Πλέον μπορείτε να δοκιμάσετε την εφαρμογή πληκτρολογώντας στο αντίστοιχο πεδίο, τα ονόματα των φαρμάκων χωρισμένα με «,» (βλ. τελευταία διαφάνεια). 
 
Σημείωση : Η αναζήτηση είναι case insensitive .
 
Μετά την υποβολή πατώντας πάνω στα tabs TABLE 1, TABLE 2 μπορείτε να δείτε τα αποτελέσματα της αναζήτησης.
Τέλος πατώντας πάνω στο Read full study μπορείτε να δείτε την πλήρη μελέτη στο ClinicalTrials.gov για κάθε μελέτη των πινάκων . 

# Εργαλεία Εφαρμογής & Credits

Τα εργαλεία της εφαρμογής είναι συνεπή με αυτά του εργαστηρίου. Ειδικότερα, 
•	Για την βάση δεδομένων όπως αναφέρθηκε χρησιμοποιήθηκε MariaDB
•	Ο κώδικας για την εισαγωγή των δεδομένων είναι γραμμένος σε java
•	Επίσης σε java είναι γραμμένος ο κώδικας που εμπεριέχεται στο .jsp αρχείο για την σύνδεση με την βάση, την εκτέλεση queries και την επεξεργασία των δεδομένων της βάσης.
•	Η μορφοποίηση της σελίδας έγινε με css, javascript (ενσωματωμένα στο .jsp) 

Τέλος παρατίθενται μερικές από τις σελίδες που βοήθησαν στη συγγραφή του κώδικα του αρχείου ReadXML.java

•	https://www.javatpoint.com/how-to-read-xml-file-in-java
•	https://www.codota.com/code/java/classes/org.xml.sax.InputSource

# Παραδείγματα Φαρμάκων 

•	Paclitaxel 
•	Fluorouracil
•	Risperidone 
•	Fluticasone 
•	Varenicline
•	Gabapentin 
•	Armodafinil
•	GM-CSF
•	Aspirin 
•	Polyethyleneglycol 
